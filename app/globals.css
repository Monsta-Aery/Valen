@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {

    /* Main 3D Box Container */
    .present {
        height: 240px;
        width: 240px;
        perspective: 1200px;
        position: relative;
        margin: 0 auto;
        transform-style: preserve-3d;
        cursor: pointer;
    }

    .rotate-container {
        animation: present-rotate 25s infinite linear;
        height: 100%;
        width: 100%;
        transform-style: preserve-3d;
        position: relative;
    }

    @keyframes present-rotate {
        0% {
            transform: rotateY(0);
        }

        100% {
            transform: rotateY(360deg);
        }
    }

    /* Box Sides Styling */
    .bottom,
    .front,
    .left,
    .back,
    .right {
        background-color: #034b5d;
        border: 1px solid rgba(255, 255, 255, 0.2);
        height: 100%;
        width: 100%;
        position: absolute;
        box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.3);
        transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        transform-style: preserve-3d;
    }

    .bottom {
        transform: translateY(50%) rotateX(90deg);
        background-color: #023644;
    }

    .front {
        transform: translateZ(120px);
    }

    .back {
        transform: translateZ(-120px) rotateY(180deg);
    }

    .left {
        transform: translateX(-50%) rotateY(-90deg);
    }

    .right {
        transform: translateX(50%) rotateY(90deg);
    }

    /* Ribbon Accent */
    .front:after,
    .left:after,
    .back:after,
    .right:after,
    .lid-top:after {
        background-color: #fce7f3;
        content: '';
        height: 100%;
        width: 24px;
        left: calc(50% - 12px);
        position: absolute;
        transform: translateZ(1px);
    }

    /* Lid Styling */
    .lid {
        animation: lid-animation 3s infinite;
        transform-style: preserve-3d;
        transition: transform 0.5s ease;
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 15;
    }

    @keyframes lid-animation {

        0%,
        30% {
            transform: translate3d(0, 0, 0) rotateX(0);
        }

        5%,
        15%,
        25% {
            transform: translate3d(0, -10px, -5px) rotateX(5deg);
        }

        10%,
        20% {
            transform: translate3d(0, -10px, 5px) rotateX(-5deg);
        }
    }

    .lid-top,
    .lid-left,
    .lid-back,
    .lid-right,
    .lid-front {
        background-color: #034b5d;
        border: 1px solid rgba(255, 255, 255, 0.2);
        position: absolute;
        width: 250px;
        left: -5px;
    }

    .lid-top {
        height: 250px;
        top: -5px;
        transform: translateY(-50%) rotateX(90deg);
    }

    .lid-left,
    .lid-back,
    .lid-right,
    .lid-front {
        height: 45px;
        top: -5px;
    }

    .lid-left {
        transform: translateX(-50%) rotateY(-90deg);
    }

    .lid-back {
        transform: translateZ(-130px) rotateY(180deg);
    }

    .lid-right {
        transform: translateX(50%) rotateY(90deg);
    }

    .lid-front {
        transform: translateZ(130px);
    }

    /* OPEN STATE - Triggered when box is clicked */
    .present.open .rotate-container {
        animation-play-state: paused;
    }

    .present.open .lid {
        /* Lid flies up and fades out */
        transform: translate3d(0, -120px, -150px) rotateX(-120deg);
        opacity: 0;
    }

    .present.open .front {
        transform: translateZ(120px) rotateX(90deg);
        transform-origin: bottom;
        opacity: 0;
    }

    .present.open .back {
        transform: translateZ(-120px) rotateY(180deg) rotateX(90deg);
        transform-origin: bottom;
        opacity: 0;
    }

    .present.open .left {
        transform: translateX(-50%) rotateY(-90deg) rotateX(-90deg);
        transform-origin: bottom;
        opacity: 0;
    }

    .present.open .right {
        transform: translateX(50%) rotateY(90deg) rotateX(-90deg);
        transform-origin: bottom;
        opacity: 0;
    }

    /* Flourish Animation for Text/Images */
    .animate-flourish {
        animation: flourish 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }

    @keyframes flourish {
        0% {
            opacity: 0;
            transform: scale(0.3) translateY(50px);
            filter: blur(10px);
        }

        100% {
            opacity: 1;
            transform: scale(1) translateY(0);
            filter: blur(0);
        }
    }

    /* Gradient Text Animation for the Final Reveal */
    .animate-gradient-text {
        background: linear-gradient(to right, #ec4899, #ef4444, #f472b6);
        background-size: 200% auto;
        color: transparent;
        -webkit-background-clip: text;
        background-clip: text;
        animation: shine 3s linear infinite;
    }

    @keyframes shine {
        to {
            background-position: 200% center;
        }
    }
}